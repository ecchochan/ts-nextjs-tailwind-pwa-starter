fragment Variant on ProductVariant {
  id
  title
  priceV2 {
    amount
    currencyCode
  }
  barcode
  requiresShipping
  quantityAvailable
  availableForSale
  image {
    id
    altText
    transformedSrc(
      maxWidth: 768
      maxHeight: 1024
      crop: CENTER
      preferredContentType: JPG
    )
  }
}

fragment Product on Product {
  handle
  title
  description
  seo {
    title
    description
  }
  priceRange {
    minVariantPrice {
      amount
      currencyCode
    }
  }
  variants(first: 10) {
    edges {
      node {
        ...Variant
      }
    }
  }
  images(first: 10) {
    edges {
      node {
        id
        altText
        transformedSrc(
          maxWidth: 768
          maxHeight: 1024
          crop: CENTER
          preferredContentType: JPG
        )
      }
    }
  }
}

query getProductList($after: String) {
  products(first: 12, after: $after) {
    edges {
      node {
        ...Product
      }
      cursor
    }
    pageInfo {
      hasNextPage
    }
  }
}

query getProductSingle($handle: String!) {
  product(handle: $handle) {
    ...Product
  }
}
